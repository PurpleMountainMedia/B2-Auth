webpackJsonp([0],{R5zP:function(e,r,t){(e.exports=t("FZ+f")(!1)).push([e.i,"",""])},UMHT:function(e,r,t){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=b2Systems.site_url+"/"+b2Systems.api_prefix+"/",o="We could not access the server at this time. Please try again. If the issue persists, please contact support.";r.a={get:function(e){return e.params||(e.params={}),e.url||(e.url=n+e.path),e.params.limit=e.params.limit?e.params.limit:15,e.params.ascending=e.params.ascending?e.params.ascending:0,e.params.orderBy=e.params.orderBy?e.params.orderBy:"id",console.log("API Get: "+e.url),new Promise(function(r,t){axios.get(e.url,{params:e.params}).then(function(e){r(e.data)}.bind(this)).catch(function(e){t(this.errorAdapter(e))}.bind(this))}.bind(this))},delete:function(e){return e.url||(e.url=n+e.path),console.log("API Delete: "+e.url),new Promise(function(r,t){axios.delete(e.url,e.params?{params:e.params}:"").then(function(e){r(e.data)}.bind(this)).catch(function(e){t(this.errorAdapter(e))}.bind(this))}.bind(this))},persist:function(e,r){return r.params||(r.params={}),r.url||(r.url=n+r.path),console.log("API "+e+": "+r.url),new Promise(function(t,s){axios[e](r.url,r.object,r.params).then(function(e){t(e.data)}.bind(this)).catch(function(e){s(this.errorAdapter(e))}.bind(this))}.bind(this))},errorAdapter:function(e){var r=(e=((e=e||{}).response?e.response:{}).status?e.response:e).data?e.data:e.message;return console.error("API Error:"),console.log(e),console.error("API Error Data"),console.log(r),e?"object"===(void 0===r?"undefined":s(r))&&422===e.status?r:403===e.status?{message:"We could not complete the request, because you are not authorised to do so.",code:e.status}:{message:o,errors:{server:["Please use this error code in any suppot queries. Error Code: "+e.status]},code:e.status}:{message:o,errors:{server:e.message},code:e.status}}}},"VU/8":function(e,r){e.exports=function(e,r,t,s,n,o){var a,i=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(a=e,i=e.default);var l,c="function"==typeof i?i.options:i;if(r&&(c.render=r.render,c.staticRenderFns=r.staticRenderFns,c._compiled=!0),t&&(c.functional=!0),n&&(c._scopeId=n),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=s),l){var d=c.functional,f=d?c.render:c.beforeCreate;d?(c._injectStyles=l,c.render=function(e,r){return l.call(r),f(e,r)}):c.beforeCreate=f?[].concat(f,l):[l]}return{esModule:a,exports:i,options:c}}},dHsu:function(e,r,t){"use strict";r.a={getValidationMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=[];for(var t in e)e[t]&&r.push([e[t][0]?e[t][0].message:""]);return r},getErrorMessage:function(){return"Oops, there was a problem saving the data."},getValidationErrorMessage:function(){return"Please fill in the required fields above."},getSuccessMessage:function(){return"Data saved successfully."}}},rjj0:function(e,r,t){var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n=t("tTVk"),o={},a=s&&(document.head||document.getElementsByTagName("head")[0]),i=null,u=0,l=!1,c=function(){},d=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e){for(var r=0;r<e.length;r++){var t=e[r],s=o[t.id];if(s){s.refs++;for(var n=0;n<s.parts.length;n++)s.parts[n](t.parts[n]);for(;n<t.parts.length;n++)s.parts.push(g(t.parts[n]));s.parts.length>t.parts.length&&(s.parts.length=t.parts.length)}else{var a=[];for(n=0;n<t.parts.length;n++)a.push(g(t.parts[n]));o[t.id]={id:t.id,refs:1,parts:a}}}}function h(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var r,t,s=document.querySelector("style["+f+'~="'+e.id+'"]');if(s){if(l)return c;s.parentNode.removeChild(s)}if(p){var n=u++;s=i||(i=h()),r=y.bind(null,s,n,!1),t=y.bind(null,s,n,!0)}else s=h(),r=function(e,r){var t=r.css,s=r.media,n=r.sourceMap;s&&e.setAttribute("media",s);d.ssrId&&e.setAttribute(f,r.id);n&&(t+="\n/*# sourceURL="+n.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,s),t=function(){s.parentNode.removeChild(s)};return r(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;r(e=s)}else t()}}e.exports=function(e,r,t,s){l=t,d=s||{};var a=n(e,r);return m(a),function(r){for(var t=[],s=0;s<a.length;s++){var i=a[s];(u=o[i.id]).refs--,t.push(u)}r?m(a=n(e,r)):a=[];for(s=0;s<t.length;s++){var u;if(0===(u=t[s]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete o[u.id]}}}};var v,b=(v=[],function(e,r){return v[e]=r,v.filter(Boolean).join("\n")});function y(e,r,t,s){var n=t?"":s.css;if(e.styleSheet)e.styleSheet.cssText=b(r,n);else{var o=document.createTextNode(n),a=e.childNodes;a[r]&&e.removeChild(a[r]),a.length?e.insertBefore(o,a[r]):e.appendChild(o)}}},tTVk:function(e,r){e.exports=function(e,r){for(var t=[],s={},n=0;n<r.length;n++){var o=r[n],a=o[0],i={id:e+":"+n,css:o[1],media:o[2],sourceMap:o[3]};s[a]?s[a].parts.push(i):t.push(s[a]={id:a,parts:[i]})}return t}},tm1f:function(e,r,t){var s=t("VU/8")(t("vpVM"),t("zMfO"),!1,function(e){t("xsky")},null,null);e.exports=s.exports},vpVM:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("UMHT"),n=t("dHsu");r.default={name:"B2UserForm",components:{B2UserBasicFields:function(){return t.e(20).then(t.bind(null,"JIZr"))},B2UserSecurityFields:function(){return t.e(17).then(t.bind(null,"KzP2"))},B2UserPreferencesFields:function(){return t.e(19).then(t.bind(null,"7xjt"))},B2UserPrivacyFields:function(){return t.e(18).then(t.bind(null,"CN66"))},B2Errors:function(){return t.e(15).then(t.bind(null,"nv3l"))}},props:{user:{type:Object,required:!0}},data:function(){return{loading:!1,userForm:{},formErrors:{}}},mounted:function(){this.userForm=Object.assign({},this.user)},methods:{reset:function(){this.userForm=Object.assign({},this.user)},submitForm:function(){var e=this;this.loading=!0,this.formErrors={},this.$refs.userForm.validate(function(r,t){if(!r)return e.loading=!1,e.formErrors={message:n.a.getValidationErrorMessage(),errors:n.a.getValidationMessages(t)},!1;s.a.persist("put",{path:"users/"+e.user.id,object:e.userForm}).then(function(r){e.loading=!1,e.userForm=r.data,e.$message({message:n.a.getSuccessMessage(),type:"success"})}).catch(function(r){e.formErrors=r,e.loading=!1,e.$message.error(n.a.getErrorMessage())})})}}}},xsky:function(e,r,t){var s=t("R5zP");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t("rjj0")("637dda7d",s,!0,{})},zMfO:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("el-form",{ref:"userForm",attrs:{model:e.userForm,"label-position":"top","label-width":"100px","status-icon":"",id:"user_form_dashboard"}},[t("b2-user-basic-fields",{attrs:{form:e.userForm}}),e._v(" "),t("b2-user-security-fields",{attrs:{form:e.userForm}}),e._v(" "),t("b2-user-preferences-fields",{attrs:{form:e.userForm}}),e._v(" "),t("b2-user-privacy-fields",{attrs:{form:e.userForm}}),e._v(" "),t("b2-errors",{attrs:{errors:e.formErrors}}),e._v(" "),t("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:10}},[t("el-button",{attrs:{plain:"",type:"primary",plain:"",size:"small",id:"user_form_reset",loading:e.loading},on:{click:e.reset}},[e._v("Reset")]),e._v(" "),t("el-button",{attrs:{plain:"",type:"success",size:"small",id:"user_form_submit",loading:e.loading},on:{click:e.submitForm}},[e._v("Save "),t("i",{staticClass:"fal fa-save"})])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=b2-user-form.js.map